import{d as a,dE as e,r as l,Y as o,U as u,o as t,i as d,w as s,e as n,a as r,Z as m,I as i,H as c,t as v,l as p}from"./index-C7FJj4Bp.js";import{a as f,E as T}from"./el-form-item-DGQT7cXn.js";import{E as V,a as h}from"./el-col-CLycMjBT.js";import{E as b}from"./el-switch-DLGqKmW6.js";import{u as x}from"./index-Cme0opYz.js";const _=a({__name:"Configuration",props:{closeDialog:{type:Function},getList:{type:Function},nodeConfForm:{}},setup(a){const{t:_}=p(),g=a,{nodeConfForm:k}=e(g),w=l({...k.value}),N=l(!1),y=l(!1),U=l(!1);o((()=>{"1"===w.value.state?(U.value=!0,y.value=!1):"2"===w.value.state?(U.value=!1,y.value=!1):"3"===w.value.state&&(U.value=!1,y.value=!0)}));const j=l();return(a,e)=>{const l=u("ElText");return t(),d(r(T),{model:w.value,"label-width":"auto","status-icon":"",ref_key:"ruleFormRef",ref:j},{default:s((()=>[n(r(f),{label:r(_)("node.nodeName"),prop:"name"},{default:s((()=>[n(r(m),{modelValue:w.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>w.value.name=a),disabled:""},null,8,["modelValue"])])),_:1},8,["label"]),n(r(f),{label:r(_)("configuration.maxTaskNum"),prop:"MaxTaskNum"},{default:s((()=>[n(r(m),{modelValue:w.value.maxTaskNum,"onUpdate:modelValue":e[1]||(e[1]=a=>w.value.maxTaskNum=a)},null,8,["modelValue"])])),_:1},8,["label"]),n(r(f),{label:r(_)("configuration.portScanThread"),prop:"MaxTaskNum"},{default:s((()=>[n(r(m),{modelValue:w.value.portscanThread,"onUpdate:modelValue":e[2]||(e[2]=a=>w.value.portscanThread=a)},null,8,["modelValue"])])),_:1},8,["label"]),n(r(f),{label:r(_)("configuration.dirScanThread"),prop:"MaxTaskNum"},{default:s((()=>[n(r(m),{modelValue:w.value.dirscanThread,"onUpdate:modelValue":e[3]||(e[3]=a=>w.value.dirscanThread=a)},null,8,["modelValue"])])),_:1},8,["label"]),n(r(f),{label:r(_)("configuration.crawlerThread"),prop:"MaxTaskNum"},{default:s((()=>[n(r(m),{modelValue:w.value.crawlerThread,"onUpdate:modelValue":e[4]||(e[4]=a=>w.value.crawlerThread=a)},null,8,["modelValue"])])),_:1},8,["label"]),n(r(f),{label:r(_)("common.state")},{default:s((()=>[n(r(b),{modelValue:U.value,"onUpdate:modelValue":e[5]||(e[5]=a=>U.value=a),"inline-prompt":"","active-text":r(_)("common.switchAction"),"inactive-text":r(_)("common.switchInactive"),disabled:y.value},null,8,["modelValue","active-text","inactive-text","disabled"])])),_:1},8,["label"]),n(r(h),null,{default:s((()=>[n(r(V),{span:2,offset:8},{default:s((()=>[n(r(f),null,{default:s((()=>[n(r(i),{type:"primary",onClick:e[6]||(e[6]=a=>(async a=>{N.value=!0,a&&await a.validate((async(a,e)=>{if(a){let a;a=await x(w.value.name,w.value.maxTaskNum,w.value.dirscanThread,w.value.portscanThread,w.value.crawlerThread,U.value),200===a.code&&(g.getList(),g.closeDialog()),N.value=!1}else N.value=!1}))})(j.value)),loading:N.value},{default:s((()=>[c(v(r(_)("task.save"))+" ",1),n(l,{size:"small"},{default:s((()=>[c(v(r(_)("configuration.threadMsg")),1)])),_:1})])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])}}});export{_};
