import{d as a,dE as e,r as l,Y as t,o,i as u,w as s,e as m,a as n,Z as i,I as d,H as v,t as r,l as c}from"./index-CkCEk9VW.js";import{a as f,E as p}from"./el-form-item-Yw610eQe.js";import{E as x,a as _}from"./el-col-DOJxIdcb.js";import{E as b}from"./el-switch-ByZMxUBd.js";import{u as V}from"./index-BP8yMvp9.js";const g=a({__name:"Configuration",props:{closeDialog:{type:Function},getList:{type:Function},nodeConfForm:{}},setup(a){const{t:g}=c(),k=a,{nodeConfForm:w}=e(k),y=l({...w.value}),N=l(!1),j=l(!1),F=l(!1);t((()=>{"1"===y.value.state?(F.value=!0,j.value=!1):"2"===y.value.state?(F.value=!1,j.value=!1):"3"===y.value.state&&(F.value=!1,j.value=!0)}));const T=l();return(a,e)=>(o(),u(n(p),{model:y.value,"label-width":"100px","status-icon":"",ref_key:"ruleFormRef",ref:T},{default:s((()=>[m(n(f),{label:n(g)("node.nodeName"),prop:"name"},{default:s((()=>[m(n(i),{modelValue:y.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>y.value.name=a),disabled:""},null,8,["modelValue"])])),_:1},8,["label"]),m(n(f),{label:n(g)("configuration.maxTaskNum"),prop:"MaxTaskNum"},{default:s((()=>[m(n(i),{modelValue:y.value.maxTaskNum,"onUpdate:modelValue":e[1]||(e[1]=a=>y.value.maxTaskNum=a)},null,8,["modelValue"])])),_:1},8,["label"]),m(n(f),{label:n(g)("common.state")},{default:s((()=>[m(n(b),{modelValue:F.value,"onUpdate:modelValue":e[2]||(e[2]=a=>F.value=a),"inline-prompt":"","active-text":n(g)("common.switchAction"),"inactive-text":n(g)("common.switchInactive"),disabled:j.value},null,8,["modelValue","active-text","inactive-text","disabled"])])),_:1},8,["label"]),m(n(_),null,{default:s((()=>[m(n(x),{span:2,offset:8},{default:s((()=>[m(n(f),null,{default:s((()=>[m(n(d),{type:"primary",onClick:e[3]||(e[3]=a=>(async a=>{N.value=!0,a&&await a.validate((async(a,e)=>{if(a){let a;a=await V(y.value.name,y.value.maxTaskNum,F.value),200===a.code&&(k.getList(),k.closeDialog()),N.value=!1}else N.value=!1}))})(T.value)),loading:N.value},{default:s((()=>[v(r(n(g)("task.save")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]))}});export{g as _};
