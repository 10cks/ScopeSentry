import{d as e,dH as a,r as l,N as t,o as s,i as o,w as i,e as r,a as u,Z as n,I as m,H as v,t as d,l as p}from"./index-rxu9Faad.js";import{a as c,E as g}from"./el-form-item-BWEP-xeg.js";import{E as f,a as b}from"./el-col-BKZxb-_G.js";import{E as y}from"./el-divider-CWb5e3hf.js";import"./el-tag-DFTmA9-y.js";import"./el-popper-BJkW0SkV.js";import{E as _}from"./el-select-v2-ZKSF5BLD.js";import{E as V}from"./el-switch-BRO8MrN9.js";import{r as h}from"./index-Cr6_Qzhf.js";const j=(e,a,l)=>h.post({url:"/api/sensitive/data",data:{search:e,pageIndex:a,pageSize:l}}),w=e=>h.post({url:"/api/sensitive/delete",data:{ids:e}}),I=e({__name:"Detail",props:{closeDialog:{type:Function},getList:{type:Function},sensitiveForm:{}},setup(e){const{t:j}=p(),w=e,{sensitiveForm:I}=a(w),x=l({...I.value}),k=t({name:[{required:!0,message:j("sensitiveInformation.sensitiveNameMsg"),trigger:"blur"}],regular:[{required:!0,message:j("sensitiveInformation.sensitiveRegularMsg"),trigger:"blur"}]}),E=[{value:"null",label:"null"},{value:"green",label:"green"},{value:"red",label:"red"},{value:"cyan",label:"cyan"},{value:"yellow",label:"yellow"},{value:"orange",label:"orange"},{value:"gray",label:"gray"},{value:"pink",label:"pink"}],F=l(!1),M=l(),N=async e=>{F.value=!0,e&&await e.validate((async(e,a)=>{if(e){let e;e=""!=x.value.id?await(l=x.value.id,t=x.value.name,s=x.value.regular,o=x.value.color,i=x.value.state,h.post({url:"/api/sensitive/update",data:{id:l,name:t,regular:s,color:o,state:i}})):await((e,a,l,t)=>h.post({url:"/api/sensitive/add",data:{name:e,regular:a,color:l,state:t}}))(x.value.name,x.value.regular,x.value.color,x.value.state),200===e.code&&(w.getList(),w.closeDialog()),F.value=!1}else F.value=!1;var l,t,s,o,i}))};return(e,a)=>(s(),o(u(g),{model:x.value,"label-width":"auto",rules:k,"status-icon":"",ref_key:"ruleFormRef",ref:M},{default:i((()=>[r(u(c),{label:u(j)("sensitiveInformation.sensitiveName"),prop:"name"},{default:i((()=>[r(u(n),{modelValue:x.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value.name=e),placeholder:u(j)("sensitiveInformation.sensitiveNameMsg")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),r(u(c),{label:u(j)("sensitiveInformation.sensitiveRegular"),prop:"regular"},{default:i((()=>[r(u(n),{modelValue:x.value.regular,"onUpdate:modelValue":a[1]||(a[1]=e=>x.value.regular=e),placeholder:u(j)("sensitiveInformation.sensitiveRegularMsg")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),r(u(c),{label:u(j)("sensitiveInformation.sensitiveColor")},{default:i((()=>[r(u(_),{modelValue:x.value.color,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value.color=e),placeholder:"Please select color",options:E},null,8,["modelValue"])])),_:1},8,["label"]),r(u(c),{label:u(j)("common.state")},{default:i((()=>[r(u(V),{modelValue:x.value.state,"onUpdate:modelValue":a[3]||(a[3]=e=>x.value.state=e),"inline-prompt":"","active-text":u(j)("common.switchAction"),"inactive-text":u(j)("common.switchInactive")},null,8,["modelValue","active-text","inactive-text"])])),_:1},8,["label"]),r(u(y)),r(u(b),null,{default:i((()=>[r(u(f),{span:2,offset:8},{default:i((()=>[r(u(c),null,{default:i((()=>[r(u(m),{type:"primary",onClick:a[4]||(a[4]=e=>N(M.value)),loading:F.value},{default:i((()=>[v(d(u(j)("task.save")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"]))}});export{I as _,w as d,j as g};
