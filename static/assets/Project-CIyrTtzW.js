import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CLuWlWlx.js";import{d as t,N as a,r as l,U as s,o,c as i,e as r,w as p,a as u,H as n,t as m,Z as d,I as c,f as j,Q as _,a4 as v,l as f,i as g}from"./index-rxu9Faad.js";import{a as x,E as y}from"./el-tab-pane-BRIDvS2j.js";import{a as b,E as h}from"./el-col-BKZxb-_G.js";import{_ as P}from"./ProjectList.vue_vue_type_style_index_0_lang-Dl0IiYXO.js";import{_ as D,g as k}from"./AddProject.vue_vue_type_script_setup_true_lang-DlpcaFRh.js";import{_ as A}from"./Dialog.vue_vue_type_style_index_0_lang-D0fkHpTu.js";import{u as w}from"./useIcon-xO2WQYaC.js";import"./el-card-C0XrHsE5.js";import"./el-tooltip-l0sNRNKZ.js";import"./el-popper-BJkW0SkV.js";import"./useInput-D-eMIzLG.js";import"./debounce-rCtyPgGe.js";import"./Table.vue_vue_type_script_lang-COxZJx7A.js";import"./el-checkbox-BVo36Tmv.js";import"./el-tag-DFTmA9-y.js";import"./el-select-FArs2pTf.js";import"./el-image-viewer-CCnBYOdA.js";import"./tsxHelper-CyxpWgl3.js";import"./el-dropdown-item-CgW2TRYg.js";import"./castArray-B4xEQihS.js";import"./refs-ClXC3KCu.js";import"./index-CQSTts3C.js";import"./raf-P5NVVAw8.js";/* empty css                          */import"./el-divider-CWb5e3hf.js";import"./el-form-item-BWEP-xeg.js";import"./el-switch-BRO8MrN9.js";import"./el-radio-group-j1mInj6s.js";import"./el-select-v2-ZKSF5BLD.js";import"./el-input-number-C2PDgN9l.js";import"./el-text-BLRhP_03.js";import"./index-Cr6_Qzhf.js";import"./index-Cx9Wzo2_.js";import"./index-B9E6KFL3.js";import"./index-BaLibEYg.js";const T={class:"mb-10px"},V=t({__name:"Project",setup(t){const{t:V}=f();let L=a({}),O=l([]),C=a({});const I=async(e,t)=>{0===e?(e=q.value,t=z.value):(q.value=e,z.value=t);try{const a=await k(H.value,e,t);Object.assign(L,a.data.result),O.value=Object.keys(a.data.tag),Object.assign(C,a.data.tag);const l=O.value.indexOf("All");-1!==l&&O.value.splice(l,1)}catch(a){}},$=l(!1),E=async()=>{$.value=!0},U=()=>{$.value=!1},H=l(""),N=w({icon:"iconoir:search"}),q=l(1),z=l(50),G=l(!1),J=()=>{G.value=!0,I(q.value,z.value),G.value=!1};return J(),(t,a)=>{const l=s("ElText");return o(),i(_,null,[r(u(e),null,{default:p((()=>[r(u(b),null,{default:p((()=>[r(u(h),{span:.5},{default:p((()=>[r(l,{class:"mx-1",style:{position:"relative",top:"8px"}},{default:p((()=>[n(m(u(V)("form.input"))+":",1)])),_:1})])),_:1}),r(u(h),{span:5},{default:p((()=>[r(u(d),{modelValue:H.value,"onUpdate:modelValue":a[0]||(a[0]=e=>H.value=e),placeholder:u(V)("common.inputText"),style:{height:"38px"}},null,8,["modelValue","placeholder"])])),_:1}),r(u(h),{span:5,style:{position:"relative",left:"16px"}},{default:p((()=>[r(u(c),{loading:G.value,type:"primary",icon:u(N),size:"large",style:{height:"100%"},onClick:J},null,8,["loading","icon"])])),_:1})])),_:1}),r(u(b),null,{default:p((()=>[r(u(h),{style:{position:"relative",top:"16px"}},{default:p((()=>[j("div",T,[r(u(c),{type:"primary",onClick:E},{default:p((()=>[n(m(u(V)("project.addProject")),1)])),_:1})])])),_:1})])),_:1}),r(u(x),{class:"demo-tabs",style:{position:"relative",top:"10px"}},{default:p((()=>[r(u(y),{label:`All (${u(C).All})`},{default:p((()=>[r(P,{tableDataList:u(L).All,getProjectTag:I,total:u(C).All},null,8,["tableDataList","total"])])),_:1},8,["label"]),(o(!0),i(_,null,v(u(O),(e=>(o(),g(u(y),{label:`${e} (${u(C)[e]})`,key:e},{default:p((()=>[r(P,{tableDataList:u(L)[e],getProjectTag:I,total:u(C)[e]},null,8,["tableDataList","total"])])),_:2},1032,["label"])))),128))])),_:1})])),_:1}),r(u(A),{modelValue:$.value,"onUpdate:modelValue":a[1]||(a[1]=e=>$.value=e),title:u(V)("project.addProject"),center:"",style:{"border-radius":"15px","box-shadow":"5px 5px 10px rgba(0, 0, 0, 0.3)"}},{default:p((()=>[r(D,{closeDialog:U,projectid:"",getProjectData:I,schedule:!1})])),_:1},8,["modelValue","title"])],64)}}});export{V as default};
