import{_ as e}from"./Table.vue_vue_type_script_lang-ZyLIndS7.js";import{s as a,cl as t,ab as s,x as l,a7 as o,d as r,A as i,r as n,B as c,ac as u,C as d,a3 as p,o as m,c as v,F as g,a as _,i as f,w as y,G as j,D as b,J as x,n as h,L as S,M as k,e as z,H as w,t as P,f as A,Q as D,l as C,dw as E}from"./index-RTeQX4Z1.js";import{a as T,E as B,b as L}from"./el-dropdown-item-D_iEt1B1.js";import"./el-popper-BiF-N6C2.js";import{E as V}from"./el-select-2HzOgPi7.js";import"./el-tag-DQ-f6KyF.js";import{_ as q}from"./Dialog.vue_vue_type_style_index_0_lang-k1HJRGzw.js";import{_ as F,d as U}from"./AddProject.vue_vue_type_script_setup_true_lang-ClcYCMOL.js";import{u as $}from"./useIcon-KJLOguoe.js";const I=a({size:{type:[Number,String],values:t,default:"",validator:e=>s(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:l},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:o(String),default:"cover"}}),J={error:e=>e instanceof Event},N=["src","alt","srcset"],G=r({name:"ElAvatar"});const H=k(S(r({...G,props:I,emits:J,setup(e,{emit:a}){const t=e,l=i("avatar"),o=n(!1),r=c((()=>{const{size:e,icon:a,shape:s}=t,o=[l.b()];return u(e)&&o.push(l.m(e)),a&&o.push(l.m("icon")),s&&o.push(l.m(s)),o})),S=c((()=>{const{size:e}=t;return s(e)?l.cssVarBlock({size:d(e)||""}):void 0})),k=c((()=>({objectFit:t.fit})));function z(e){o.value=!0,a("error",e)}return p((()=>t.src),(()=>o.value=!1)),(e,a)=>(m(),v("span",{class:h(_(r)),style:g(_(S))},[!e.src&&!e.srcSet||o.value?e.icon?(m(),f(_(b),{key:1},{default:y((()=>[(m(),f(j(e.icon)))])),_:1})):x(e.$slots,"default",{key:2}):(m(),v("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:g(_(k)),onError:z},null,44,N))],6))}}),[["__file","avatar.vue"]])),M={class:"flex cursor-pointer"},O={class:"pr-16px"},Q={class:"name"},R={class:"assets-info"},Y=r({__name:"ProjectList",props:{tableDataList:{type:Array,default:()=>[]},getProjectTag:{type:Function,required:!0},total:{type:Number,default:0}},setup(a){const{t:t}=C(),s=a,l=n(!1);let o="";const r=n(!1),i=()=>{r.value=!1},c=$({icon:"uil:edit"}),u=$({icon:"material-symbols:delete-outline"}),d=e=>{var a;"edit"==e.type?(async e=>{o=e,r.value=!0})(e.id):(a=e.id,E.alert("Are you sure you want to delete the selected data?","",{confirmButtonText:"YES",callback:async()=>{await U(a),s.getProjectTag(g.value,j.value)}}))},p=()=>{s.getProjectTag(g.value,j.value)},g=n(1),j=n(50),b=n(!1),x=n(!1),h=n(!1);return(s,n)=>(m(),v(D,null,[z(_(e),{columns:[],data:a.tableDataList,loading:l.value,"custom-content":"","card-wrap-style":{width:"210px",marginBottom:"20px",marginRight:"20px"}},{content:y((e=>[z(_(T),{trigger:"click",onCommand:d},{dropdown:y((()=>[z(_(B),null,{default:y((()=>[z(_(L),{icon:_(c),command:{type:"edit",id:e.id}},{default:y((()=>[w(P(_(t)("common.edit")),1)])),_:2},1032,["icon","command"]),z(_(L),{icon:_(u),command:{type:"del",id:e.id}},{default:y((()=>[w(P(_(t)("common.delete")),1)])),_:2},1032,["icon","command"])])),_:2},1024)])),default:y((()=>[A("div",M,[A("div",O,[""!=e.logo?(m(),f(_(H),{key:0,src:e.logo,class:"avatar",fit:"cover"},null,8,["src"])):(m(),f(_(H),{key:1,class:"avatar avatar-placeholder"},{default:y((()=>[w(P(e.name.charAt(0)),1)])),_:2},1024))]),A("div",null,[A("div",Q,P(e.name),1),A("div",R,P(_(t)("project.totalAssets"))+" : "+P(e.AssetCount),1)])])])),_:2},1024)])),_:1},8,["data","loading"]),z(_(V),{"current-page":g.value,"onUpdate:currentPage":n[0]||(n[0]=e=>g.value=e),"page-size":j.value,"onUpdate:pageSize":n[1]||(n[1]=e=>j.value=e),"page-sizes":[50,70,100,200,400],small:b.value,disabled:h.value,background:x.value,layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:p,onCurrentChange:p},null,8,["current-page","page-size","small","disabled","background","total"]),z(_(q),{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=e=>r.value=e),title:_(t)("common.edit"),center:"",style:{"border-radius":"15px","box-shadow":"5px 5px 10px rgba(0, 0, 0, 0.3)"}},{default:y((()=>[z(F,{closeDialog:i,projectid:_(o),getProjectData:s.$props.getProjectTag,schedule:!1},null,8,["projectid","getProjectData"])])),_:1},8,["modelValue","title"])],64))}});export{Y as _};
