import{_ as e}from"./Table.vue_vue_type_script_lang-CjD3G7xt.js";import{s as a,cl as t,ab as s,x as o,a7 as r,d as l,A as c,r as i,B as n,ac as d,C as u,a3 as p,o as m,c as v,F as _,a as g,i as f,w as y,G as j,D as x,J as b,n as h,L as S,M as k,u as w,e as A,H as D,t as P,f as E,Q as T,l as z,dD as B}from"./index-CkCEk9VW.js";import{a as L,E as V,b as C}from"./el-dropdown-item-BjX8Mmf2.js";import"./el-popper-1D1qSWZj.js";import{_ as F}from"./Dialog.vue_vue_type_style_index_0_lang-BJ49IL3X.js";import{_ as q,d as G}from"./AddProject.vue_vue_type_script_setup_true_lang-Dv1aBibO.js";import{u as H}from"./useIcon-CbJHfg-g.js";const M=a({size:{type:[Number,String],values:t,default:"",validator:e=>s(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:o},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:r(String),default:"cover"}}),U={error:e=>e instanceof Event},$=["src","alt","srcset"],I=l({name:"ElAvatar"});const J=k(S(l({...I,props:M,emits:U,setup(e,{emit:a}){const t=e,o=c("avatar"),r=i(!1),l=n((()=>{const{size:e,icon:a,shape:s}=t,r=[o.b()];return d(e)&&r.push(o.m(e)),a&&r.push(o.m("icon")),s&&r.push(o.m(s)),r})),S=n((()=>{const{size:e}=t;return s(e)?o.cssVarBlock({size:u(e)||""}):void 0})),k=n((()=>({objectFit:t.fit})));function w(e){r.value=!0,a("error",e)}return p((()=>t.src),(()=>r.value=!1)),(e,a)=>(m(),v("span",{class:h(g(l)),style:_(g(S))},[!e.src&&!e.srcSet||r.value?e.icon?(m(),f(g(x),{key:1},{default:y((()=>[(m(),f(j(e.icon)))])),_:1})):b(e.$slots,"default",{key:2}):(m(),v("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:_(g(k)),onError:w},null,44,$))],6))}}),[["__file","avatar.vue"]])),N={class:"flex cursor-pointer"},Q={class:"pr-16px"},R={class:"name"},Y={class:"assets-info"},K=l({__name:"ProjectList",props:{tableDataList:{type:Array,default:()=>[]},getProjectTag:{type:Function,required:!0}},setup(a){const{t:t}=z();w();const s=a,o=i(!1);let r="";const l=i(!1),c=()=>{l.value=!1},n=H({icon:"uil:edit"}),d=H({icon:"material-symbols:delete-outline"}),u=e=>{var a;"edit"==e.type?(async e=>{r=e,l.value=!0})(e.id):(a=e.id,B.alert("Are you sure you want to delete the selected data?","",{confirmButtonText:"YES",callback:async()=>{await G(a),s.getProjectTag()}}))};return(s,i)=>(m(),v(T,null,[A(g(e),{columns:[],data:a.tableDataList,loading:o.value,"custom-content":"","card-wrap-style":{width:"220px",marginBottom:"20px",marginRight:"20px"}},{content:y((e=>[A(g(L),{trigger:"click",onCommand:u},{dropdown:y((()=>[A(g(V),null,{default:y((()=>[A(g(C),{icon:g(n),command:{type:"edit",id:e.id}},{default:y((()=>[D(P(g(t)("common.edit")),1)])),_:2},1032,["icon","command"]),A(g(C),{icon:g(d),command:{type:"del",id:e.id}},{default:y((()=>[D(P(g(t)("common.delete")),1)])),_:2},1032,["icon","command"])])),_:2},1024)])),default:y((()=>[E("div",N,[E("div",Q,[""!=e.logo?(m(),f(g(J),{key:0,src:e.logo,class:"avatar",fit:"cover"},null,8,["src"])):(m(),f(g(J),{key:1,class:"avatar avatar-placeholder"},{default:y((()=>[D(P(e.name.charAt(0)),1)])),_:2},1024))]),E("div",null,[E("div",R,P(e.name),1),E("div",Y,P(g(t)("project.totalAssets"))+" : "+P(e.AssetCount),1)])])])),_:2},1024)])),_:1},8,["data","loading"]),A(g(F),{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=e=>l.value=e),title:g(t)("common.edit"),center:"",style:{"border-radius":"15px","box-shadow":"5px 5px 10px rgba(0, 0, 0, 0.3)"}},{default:y((()=>[A(q,{closeDialog:c,projectid:g(r),getProjectData:s.$props.getProjectTag,schedule:!1},null,8,["projectid","getProjectData"])])),_:1},8,["modelValue","title"])],64))}});export{K as _};
