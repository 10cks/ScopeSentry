import{_ as e}from"./Table.vue_vue_type_script_lang-D1Qh8XyS.js";import{s as t,cl as a,ab as s,x as o,a7 as r,d as l,A as i,r as n,B as c,ac as d,C as p,a3 as u,o as m,c as g,F as f,a as v,i as y,w as _,G as x,D as h,J as b,n as j,L as w,M as S,u as k,e as z,H as A,t as D,f as P,Q as E,l as T,dD as B}from"./index-ubEX2FhK.js";import{a as L,E as V,b as C}from"./el-dropdown-item-DKIl88b7.js";import"./el-popper-BDTZ23-W.js";import{_ as F}from"./Dialog.vue_vue_type_style_index_0_lang-o4xeLQRv.js";import{_ as q,d as G}from"./AddProject.vue_vue_type_script_setup_true_lang-B-Cr1Q4I.js";import{u as H}from"./useIcon-NPotYW8F.js";const M=t({size:{type:[Number,String],values:a,default:"",validator:e=>s(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:o},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:r(String),default:"cover"}}),U={error:e=>e instanceof Event},$=["src","alt","srcset"],I=l({name:"ElAvatar"});const J=S(w(l({...I,props:M,emits:U,setup(e,{emit:t}){const a=e,o=i("avatar"),r=n(!1),l=c((()=>{const{size:e,icon:t,shape:s}=a,r=[o.b()];return d(e)&&r.push(o.m(e)),t&&r.push(o.m("icon")),s&&r.push(o.m(s)),r})),w=c((()=>{const{size:e}=a;return s(e)?o.cssVarBlock({size:p(e)||""}):void 0})),S=c((()=>({objectFit:a.fit})));function k(e){r.value=!0,t("error",e)}return u((()=>a.src),(()=>r.value=!1)),(e,t)=>(m(),g("span",{class:j(v(l)),style:f(v(w))},[!e.src&&!e.srcSet||r.value?e.icon?(m(),y(v(h),{key:1},{default:_((()=>[(m(),y(x(e.icon)))])),_:1})):b(e.$slots,"default",{key:2}):(m(),g("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:f(v(S)),onError:k},null,44,$))],6))}}),[["__file","avatar.vue"]])),N={class:"flex cursor-pointer"},Q={class:"pr-16px"},R={class:"mb-12px font-700 font-size-16px"},Y={class:"line-clamp-3 font-size-11px",style:{color:"#b1b3b8",position:"relative",top:"-6px"}},K=l({__name:"ProjectList",props:{tableDataList:{type:Array,default:()=>[]},getProjectTag:{type:Function,required:!0}},setup(t){const{t:a}=T();k();const s=t,o=n(!1);let r="";const l=n(!1),i=()=>{l.value=!1},c=H({icon:"uil:edit"}),d=H({icon:"material-symbols:delete-outline"}),p=e=>{var t;"edit"==e.type?(async e=>{r=e,l.value=!0})(e.id):(t=e.id,B.alert("Are you sure you want to delete the selected data?","",{confirmButtonText:"YES",callback:async()=>{await G(t),s.getProjectTag()}}))};return(s,n)=>(m(),g(E,null,[z(v(e),{columns:[],data:t.tableDataList,loading:o.value,"custom-content":"","card-wrap-style":{width:"220px",marginBottom:"20px",marginRight:"20px"}},{content:_((e=>[z(v(L),{trigger:"click",onCommand:p},{dropdown:_((()=>[z(v(V),null,{default:_((()=>[z(v(C),{icon:v(c),command:{type:"edit",id:e.id}},{default:_((()=>[A(D(v(a)("common.edit")),1)])),_:2},1032,["icon","command"]),z(v(C),{icon:v(d),command:{type:"del",id:e.id}},{default:_((()=>[A(D(v(a)("common.delete")),1)])),_:2},1032,["icon","command"])])),_:2},1024)])),default:_((()=>[P("div",N,[P("div",Q,[""!=e.logo?(m(),y(v(J),{key:0,src:e.logo,style:{width:"45px",height:"45px","line-height":"45px","font-size":"24px"},fit:"cover"},null,8,["src"])):(m(),y(v(J),{key:1,style:{width:"45px",height:"45px","line-height":"45px","font-size":"24px","background-color":"cornflowerblue"}},{default:_((()=>[A(D(e.name.charAt(0)),1)])),_:2},1024))]),P("div",null,[P("div",R,D(e.name),1),P("div",Y,D(v(a)("project.totalAssets"))+" : "+D(e.AssetCount),1)])])])),_:2},1024)])),_:1},8,["data","loading"]),z(v(F),{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e),title:v(a)("common.edit"),center:"",style:{"border-radius":"15px","box-shadow":"5px 5px 10px rgba(0, 0, 0, 0.3)"}},{default:_((()=>[z(q,{closeDialog:i,projectid:v(r),getProjectData:s.$props.getProjectTag,schedule:!1},null,8,["projectid","getProjectData"])])),_:1},8,["modelValue","title"])],64))}});export{K as _};
