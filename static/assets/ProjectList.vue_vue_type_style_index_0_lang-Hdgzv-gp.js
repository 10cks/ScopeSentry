import{_ as e}from"./Table.vue_vue_type_script_lang-iUd8q4UT.js";import{U as a,ci as t,Z as s,bo as o,V as l,d as r,a2 as i,r as n,a3 as c,$ as u,b9 as d,O as p,o as m,c as g,aw as v,a as y,i as _,w as f,aO as j,a8 as b,R as h,n as x,a4 as S,ac as k,e as z,y as w,t as P,f as A,F as T,l as D,dB as E}from"./index-KWTKF9N9.js";import{a as C,E as V,b as B}from"./el-dropdown-item-bjCsATwt.js";import"./el-popper-pnFa2Ecw.js";import{E as F}from"./el-pagination-ooblyvhx.js";import"./el-tag-MzjVikBY.js";import{_ as L}from"./Dialog.vue_vue_type_style_index_0_lang-T5U2It3I.js";import{_ as U,d as $}from"./AddProject.vue_vue_type_script_setup_true_lang-ZsckxVaR.js";import{u as q}from"./useIcon-Ry17CHl2.js";const N=a({size:{type:[Number,String],values:t,default:"",validator:e=>s(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:o},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:l(String),default:"cover"}}),O={error:e=>e instanceof Event},R=["src","alt","srcset"],G=r({name:"ElAvatar"});const I=k(S(r({...G,props:N,emits:O,setup(e,{emit:a}){const t=e,o=i("avatar"),l=n(!1),r=c((()=>{const{size:e,icon:a,shape:s}=t,l=[o.b()];return u(e)&&l.push(o.m(e)),a&&l.push(o.m("icon")),s&&l.push(o.m(s)),l})),S=c((()=>{const{size:e}=t;return s(e)?o.cssVarBlock({size:d(e)||""}):void 0})),k=c((()=>({objectFit:t.fit})));function z(e){l.value=!0,a("error",e)}return p((()=>t.src),(()=>l.value=!1)),(e,a)=>(m(),g("span",{class:x(y(r)),style:v(y(S))},[!e.src&&!e.srcSet||l.value?e.icon?(m(),_(y(b),{key:1},{default:f((()=>[(m(),_(j(e.icon)))])),_:1})):h(e.$slots,"default",{key:2}):(m(),g("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:v(y(k)),onError:z},null,44,R))],6))}}),[["__file","avatar.vue"]])),Y={class:"flex cursor-pointer"},Z={class:"pr-16px"},H={class:"name"},J={class:"assets-info"},K=r({__name:"ProjectList",props:{tableDataList:{type:Array,default:()=>[]},getProjectTag:{type:Function,required:!0},total:{type:Number,default:0}},setup(a){const{t:t}=D(),s=a,o=n(!1);let l="";const r=n(!1),i=()=>{r.value=!1},c=q({icon:"uil:edit"}),u=q({icon:"material-symbols:delete-outline"}),d=e=>{var a;"edit"==e.type?(async e=>{l=e,r.value=!0})(e.id):(a=e.id,E.alert("Are you sure you want to delete the selected data?","",{confirmButtonText:"YES",callback:async()=>{await $(a),s.getProjectTag(v.value,j.value)}}))},p=()=>{s.getProjectTag(v.value,j.value)},v=n(1),j=n(50),b=n(!1),h=n(!1),x=n(!1);return(s,n)=>(m(),g(T,null,[z(y(e),{columns:[],data:a.tableDataList,loading:o.value,"custom-content":"","card-wrap-style":{width:"210px",marginBottom:"20px",marginRight:"20px"}},{content:f((e=>[z(y(C),{trigger:"click",onCommand:d},{dropdown:f((()=>[z(y(V),null,{default:f((()=>[z(y(B),{icon:y(c),command:{type:"edit",id:e.id}},{default:f((()=>[w(P(y(t)("common.edit")),1)])),_:2},1032,["icon","command"]),z(y(B),{icon:y(u),command:{type:"del",id:e.id}},{default:f((()=>[w(P(y(t)("common.delete")),1)])),_:2},1032,["icon","command"])])),_:2},1024)])),default:f((()=>[A("div",Y,[A("div",Z,[""!=e.logo?(m(),_(y(I),{key:0,src:e.logo,class:"avatar",fit:"cover"},null,8,["src"])):(m(),_(y(I),{key:1,class:"avatar avatar-placeholder"},{default:f((()=>[w(P(e.name.charAt(0)),1)])),_:2},1024))]),A("div",null,[A("div",H,P(e.name),1),A("div",J,P(y(t)("project.totalAssets"))+" : "+P(e.AssetCount),1)])])])),_:2},1024)])),_:1},8,["data","loading"]),z(y(F),{"current-page":v.value,"onUpdate:currentPage":n[0]||(n[0]=e=>v.value=e),"page-size":j.value,"onUpdate:pageSize":n[1]||(n[1]=e=>j.value=e),"page-sizes":[50,70,100,200,400],small:b.value,disabled:x.value,background:h.value,layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:p,onCurrentChange:p},null,8,["current-page","page-size","small","disabled","background","total"]),z(y(L),{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=e=>r.value=e),title:y(t)("common.edit"),center:"",style:{"border-radius":"15px","box-shadow":"5px 5px 10px rgba(0, 0, 0, 0.3)"}},{default:f((()=>[z(U,{closeDialog:i,projectid:y(l),getProjectData:s.$props.getProjectTag,schedule:!1},null,8,["projectid","getProjectData"])])),_:1},8,["modelValue","title"])],64))}});export{K as _};
